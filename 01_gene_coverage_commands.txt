#commands to calculate coverage across genes

#software required: bwa, samtools, mosdepth

################
# 1. Get sequences of genes of interest
################
# get genes in fasta format with the name in the header and then the sequence

################
# 2. map reads
################
# map raw reads from each individual to the fasta file with genes listed

#first index genome if needed
bwa index /file/path/to/your_genome.fa

#and then do the mapping
#single-end data
bwa mem /file/path/to/your_genome.fa /file/path/to/your_reads_indiv1.fq.gz > /file/path/to/indiv1.sam

# paired-end mapping, general command structure, adjust to your case
bwa mem /file/path/to/your_genome.fa /file/path/to/your_reads_indiv1_read1.fq.gz /file/path/to/your_reads_indiv1_read2.fq.gz > /file/path/to/indiv1.sam

#filter out secondary alignments

################
# 3. Calculate coverage
################
# take the bam files that result from this mapping and run mosdepth on them which will give coverage of each gene for each individual
# I would start with all together and scroll through the .html file you will get and then you can specify/extract data for each region separately


